---
title: "Аудит — Шарж по фото (sharzh-po-foto)"
date: 2026-02-05
source: src/html/portret-na-zakaz/style/sharzh-po-foto.html
auditor: GitHub Copilot
---

**A. Базовая проверка**
- **Title:** «Шарж по фото — заказать в Muse» — релевантно и корректно.
- **Meta description:** есть — OK.
- **Meta robots:** `noindex, nofollow` — страница закрыта от индексации (разработка). ACTION: удалить перед публикацией.
- **Canonical:** присутствует — OK.
- **lang:** `ru` — OK.
- **Критический CSS:** минимальный inline `:root` — допустимо для быстрого рендера.

**B. Производительность / LCP**
- **Preload LCP:** `<link rel="preload" as="image" href="https://muse.ooo/upload/img/sharzh-po-foto-458-vasserman.webp" fetchpriority="high">` — положительно для LCP.
- **Hero image:** задано `width/height`, `loading="eager"`, `decoding="async"`, `fetchpriority="high"` — подготовлено для быстрого LCP.
- **Рекомендация:** добавить `srcset`/`sizes` и отдельные варианты AVIF/WebP для разных плотностей; убедиться, что предзагруженный URL совпадает с фактическим LCP в критическом view (mobile/desktop).
- **Скрипты:** `nav.js` подключён с `defer` — OK. Bitrix-виджеты — placeholder'ы: ACTION: инициализировать лениво через IntersectionObserver чтобы уменьшить критический JS.

**C. Доступность (A11y)**
- **ARIA / навигация:** `aria-label` у кнопок, `sr-only` в навигации — хорошо.
- **Клавиатурная доступность:** убедиться в фокус-менеджменте при открытии видео и при видимости `back-to-top` (должен быть доступен по клавиатуре и иметь видимый фокус).
- **Контраст:** текст на `.bg-dark` и `text-gray-300` требует проверки на соответствие WCAG; ACTION: прогнать контраст на ключевых комбинациях.

**D. SEO / Structured Data**
- **JSON-LD Product:** присутствует с `offers`, `aggregateRating` и `sku` — хорошо. ACTION: проверить актуальность `price`/`priceValidUntil` и `image` ссылок.
- **BreadcrumbList:** присутствует — OK.
- **SEO note:** удалить `noindex` перед публикацией; прогнать JSON-LD через валидатор Structured Data.

**E. Код / UX замечания**
- **Галерея / Калькулятор / Отзывы:** placeholders Bitrix — ACTION: загружать виджеты асинхронно и по взаимодействию/видимости.
+- **Видео:** используется ленивый паттерн с data-атрибутами — good.
+  - ACTION (точно реализовать): при клике на кнопку `data-play-btn` динамически вставлять только тогда `iframe` с `src` (без iframe в исходном DOM). Не предзагружать iframe/видео до действия пользователя.
+  - ACTION (ARIA & фокус): во время загрузки установить `aria-busy="true"` на контейнер; после вставки установить `aria-busy="false"` и переместить фокус на `iframe` (например, `iframe.setAttribute('tabindex','0'); iframe.focus();`).
+  - ACTION (autoplay): не включать `autoplay` без явной договоренности; если запускаете автоматическое воспроизведение, делать это только после явного клика пользователя.
+  - ACTION (subtitles/transcript): добавить `<track kind="captions">` при наличии субтитров или ссылку на текстовую транскрипцию рядом с видео (важно для A11Y и SEO).
+  - ACTION (fallback): оставить ссылку на источник видео (YouTube) для случаев, когда iframe блокируется пользователем/браузером.
+  - ACTION (visible play control): обеспечить видимый контраст и `focus-visible` для `.ui-control--play`, чтобы элемент был доступен клавиатуре и экранным читалкам.
+  - ACTION (layout stability): сохранить фиксированное соотношение сторон через CSS (уже есть `aspect-[360/648]`) и задавать размеры обложки, чтобы избежать CLS.
+- **Изображения миниатюр:** имеют `loading="lazy"`, размеры — OK.
+- **Back-to-top:** изначально скрыт и имеет `aria-label` — проверить доступность (tab-focus, visible focus state).

**Приоритетные действия**
1. Удалить `meta name="robots" content="noindex, nofollow"` при подготовке к публикации.
2. Добавить `srcset`/`sizes` и альтернативы AVIF/WebP для LCP-изображения; убедиться, что `preload` указывает на реальный LCP-файл.
3. Лениво инициализировать Bitrix-виджеты через IntersectionObserver/динамический импорт.
4. Проверить контраст (WCAG AA) в hero и в ключевых секциях.
5. Прогнать JSON-LD через валидатор и подтвердить корректность полей `price`, `availability`, `sku`.

**Комментарии**
- Страница соответствует базовому чеклисту Task-1 (A..E): критический CSS есть, LCP оптимизирован предзагрузкой, JSON-LD и Breadcrumb присутствуют. Основные улучшения — responsive images и ленивые загрузки виджетов.

Конец аудита.

---
Примечание по Bitrix: Bitrix/виджеты (галерея, калькулятор, отзывы) в документе указаны как placeholder'ы. На текущем этапе интеграция виджетов не выполняется — рекомендации по интеграции отложены и помечены как N/A до момента, когда начнётся этап интеграции.
