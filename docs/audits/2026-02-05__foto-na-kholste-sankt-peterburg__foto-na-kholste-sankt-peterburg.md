# Аудит: foto-na-kholste-sankt-peterburg.html

Source file: `src/html/foto-na-kholste-sankt-peterburg.html`
Date: 2026-02-05

---

## A. Структура страницы

- [x] lang="ru", meta charset="UTF-8", meta viewport — присутствуют.
- [x] Есть `title` и `meta name="description"` — присутствуют.
- [x] Есть `link rel="canonical"` — присутствует.
- [x] `meta name="robots" content="noindex, nofollow"` — присутствует (dev‑режим).
- [x] Нет вложенных `.container` внутри `.container` — обнаружены только соседние/последовательные `.container`, вложений нет.

Комментарии: структура соответствует требованиям чек‑листа.

Примечание: Bitrix/виджеты (галерея, калькулятор, отзывы) — N/A на текущем этапе; рекомендации по интеграции отложены до этапа интеграции.

---

## B. CSS и критический путь

- [x] CSS подключён через `css/output.css` — да, в `<head>` есть `<link rel="stylesheet" href="css/output.css">`.
- [x] Критический CSS в `<head>` содержит только `:root` и `body` — inline `<style>` содержит только `:root { ... }` и `body { ... }`.
- [x] В критическом CSS нет правил для `.sr-only`, `.page-navigator`, `.carousel-scroll` — подтверждено.
- [x] `content-auto` применяется только на секциях ниже первого экрана (например `#calc` и другие) — проверено; hero и секция сразу после hero не содержат `content-auto`.

Комментарии: критический путь оформлен в соответствии с правилами Task‑1.

---

## C. Скрипты

- [x] Скрипты подключены перед `</body>` — есть `<script src="js/nav.js" defer></script>` внизу.
- [x] `nav.js` подключён с атрибутом `defer` — да.
- [x] Нет inline JS для типовых блоков (video cover, carousel, before/after) — элементы используют `data-` атрибуты, inline обработчиков (`onclick`, `onload` и т.п.) не найдено.
- [x] Подключён только `js/nav.js`; `tailwindplus-elements.js` отсутствует; el-* разметки нет — подтверждено.

Комментарии: скриптовая политика соблюдена.

---

## D. Изображения

- [x] Все `<img>` имеют `width` и `height` — проверено для hero, миниатюр, слайдера и карусели.
- [x] По умолчанию у изображений установлены `decoding="async"` и `loading="lazy"` (за исключением LCP‑ресурса) — верно.
- [x] LCP: первый экран на десктопе содержит изображение (hero) — у десктопного hero изображение без `loading="lazy"` и с `fetchpriority="high"`/`preload` — соответствует правилу; для мобильного hero использован 1×1 прозрачный пиксель (правило LCP‑изображения не применяется для мобильного варианта). 
- [x] Формат WebP используется для растровых изображений — да.
- [x] SVG вставлены inline (через `<svg>`), а не через `<img src="*.svg">` — да.

Комментарии: требования к изображениям выполнены; LCP‑политика корректно разделена для desktop/mobile.

---

## E. Доступность (a11y)

- [x] Page Navigator: внутри каждой ссылки есть `sr-only` — в `nav.page-navigator` у ссылок присутствуют `span.sr-only`.
- [x] Icon‑only кнопки имеют `sr-only` или `aria-label` — миниатюры и кнопки play содержат `sr-only` или `aria-label`.
- [n/a] Before/After: `input[type="range"]` с `aria-label` — на странице не найден блок before/after с `input[type=range]` (N/A).
- [x] Видео кнопки имеют `aria-label` — кнопки воспроизведения имеют `aria-label="Воспроизвести видео"`.
- [x] Текстовые ссылки внутри абзацев имеют underline класс (`text-primary underline hover:no-underline` или `underline hover:text-primary`) — выборочно присутствуют.

Комментарии: доступность в основном соблюдена; требуемые ARIA‑атрибуты для обнаруженных элементов есть.

---

## Итоговый статус

Общий статус: ⚠️ (Warning)

Краткое объяснение статуса: большая часть пунктов чек‑листа соблюдена — структура, критический CSS, подключение скриптов и политика изображений выполнены корректно. Есть несколько замечаний, требующих действия перед публичной публикацией (см. список проблем ниже).

### Список найденных проблем / рекомендаций (приоритет):

- (HIGH) `meta name="robots" content="noindex, nofollow"` — сейчас страница помечена как неиндексируемая (dev‑режим). Удалить/изменить этот meta перед релизом.
- (HIGH) Видео: `<video>` использован с `preload="none"` (OK), но отсутствуют `<track>` с субтитрами или ссылка на транскрипт; добавить captions/track или текстовую транскрипцию для A11Y/SEO.
- (MEDIUM) Проверить мобильный LCP в реальных RUM/Lab данных; при проблемах с мобильным LCP рассмотреть генерацию адаптивных srcset и/или мобильных preloads.
- (MEDIUM) Bitrix‑виджеты (калькулятор, отзывы, галерея) помечены как placeholder — при интеграции загрузить их асинхронно (IntersectionObserver / динамическая загрузка) чтобы не ухудшать TTI.
- (LOW) Некоторые внешние ссылки с `target="_blank"` содержат `rel="nofollow noopener"`, но повсеместно рекомендую указывать `rel="noopener noreferrer"` для предотвращения window.opener‑уязвимости; добавить `nofollow/ugc/sponsored` по смыслу.

---

Рекомендую: после исправлений прогнать Lighthouse (mobile/desktop) и запустить axe‑scan для окончательной проверки доступности; проверить валидность JSON‑LD в Search Console Rich Results Test.
