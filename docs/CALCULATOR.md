# –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä ‚Äî –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

> **–î–∞—Ç–∞:** 17 —Ñ–µ–≤—Ä–∞–ª—è 2026
> **–ê—É–¥–∏—Ç–æ—Ä–∏—è:** –ª—é–±–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥, –±—ç–∫–µ–Ω–¥, Bitrix-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
> **–°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
> - [PROJECT.md](../PROJECT.md) ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –ø–ª–∞–Ω —Ä–∞–±–æ—Ç
> - [DESIGN_SYSTEM.md](DESIGN_SYSTEM.md) ‚Äî CSS-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
> - [INTEGRATION_BITRIX.md](INTEGRATION_BITRIX.md) ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã](#1-–æ–±–∑–æ—Ä-—Å–∏—Å—Ç–µ–º—ã)
2. [–§–∞–π–ª—ã –∏ –ø–æ—Ä—è–¥–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è](#2-—Ñ–∞–π–ª—ã-–∏-–ø–æ—Ä—è–¥–æ–∫-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)
3. [API `CalcInit(cfg)`](#3-api-calcinitcfg)
4. [–¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ (`prices.js`)](#4-—Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ-pricesjs)
5. [–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Ü–µ–Ω—ã](#5-–∫–∞–∫-–∏–∑–º–µ–Ω–∏—Ç—å-—Ü–µ–Ω—ã)
6. [–ö–∞—Ç–∞–ª–æ–≥ –±–∞–≥–µ—Ç–Ω—ã—Ö —Ä–∞–º](#6-–∫–∞—Ç–∞–ª–æ–≥-–±–∞–≥–µ—Ç–Ω—ã—Ö-—Ä–∞–º)
7. [–ó–∞–≥—Ä—É–∑—á–∏–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (`uploader.js`)](#7-–∑–∞–≥—Ä—É–∑—á–∏–∫-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π-uploaderjs)
8. [–§–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞](#8-—Ñ–æ—Ä–º–∞-–∑–∞–∫–∞–∑–∞)
9. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã](#9-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–≤–∞—Ä–∏–∞–Ω—Ç—ã-–∏-–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã)
10. [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏](#10-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫-—Å–µ—Ä–≤–µ—Ä–Ω–æ–π-—á–∞—Å—Ç–∏)

---

## 1. –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä ‚Äî –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π JS-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–µ—á–∞—Ç–∏ –Ω–∞ —Ö–æ–ª—Å—Ç–µ –∏ –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤ –Ω–∞ –∑–∞–∫–∞–∑. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Ä–∞–∑–º–µ—Ä, –ø–æ–¥—Ä–∞–º–Ω–∏–∫, –ø–æ–∫—Ä—ã—Ç–∏—è, –±–∞–≥–µ—Ç), –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–æ—Ç–æ –∏ –ø–æ–ª—É—á–∞–µ—Ç –∏—Ç–æ–≥–æ–≤—É—é —Ü–µ–Ω—É.

### –ò–∑ —á–µ–≥–æ —Å–æ—Å—Ç–æ–∏—Ç

```
prices.js          ‚Üê –ï–¥–∏–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ —Ü–µ–Ω + —Ç–µ–∫—Å—Ç—ã –ø–æ–¥—Å–∫–∞–∑–æ–∫
    ‚Üì
calc.js            ‚Üê –î–≤–∏–∂–æ–∫ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ (UI, –ª–æ–≥–∏–∫–∞, —Ñ–æ—Ä–º—É–ª—ã)
    ‚Üë
uploader.js        ‚Üê –ó–∞–≥—Ä—É–∑—á–∏–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (drag-drop, —Ä–µ—Å–∞–π–∑, –ø—Ä–µ–≤—å—é)
    ‚Üì
DOM (HTML)         ‚Üê –†–∞–∑–º–µ—Ç–∫–∞: —Å–µ–∫—Ü–∏—è #calc + <dialog> –º–æ–¥–∞–ª–∫–∏
```

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª

1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è ‚Üí `prices.js` —Å–æ–∑–¥–∞—ë—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ `MUSE_PRICES` –∏ `MUSE_TOOLTIPS`
2. `calc.js` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è ‚Üí —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `CalcInit()`
3. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `CalcInit({ type, prices, tooltips })` ‚Üí —Å–æ–∑–¥–∞—ë—Ç—Å—è UI
4. `CalcInit` –≤–Ω—É—Ç—Ä–∏ —Å–æ–∑–¥–∞—ë—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä `MuseUploader()` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Üí `calculate()` –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ü–µ–Ω—É ‚Üí `updateUI()` –æ–±–Ω–æ–≤–ª—è–µ—Ç DOM
6. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞ (—Å–µ–π—á–∞—Å –∑–∞–≥–ª—É—à–∫–∞ `console.log`)

### –î–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | `type: 'canvas'` | `type: 'portrait'` |
|----------|-------------------|---------------------|
| –°—Ç—Ä–∞–Ω–∏—Ü—ã | –§–æ—Ç–æ –Ω–∞ —Ö–æ–ª—Å—Ç–µ, –ü–µ—á–∞—Ç—å –Ω–∞ —Ö–æ–ª—Å—Ç–µ | –í—Å–µ —Å—Ç–∏–ª–∏ –∏ –æ–±—ä–µ–∫—Ç—ã –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤ |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ç–æ | 3 —É—Ä–æ–≤–Ω—è (–ë–∞–∑–æ–≤–∞—è / –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è / –ü—Ä–µ–º–∏–∞–ª—å–Ω–∞—è) | –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∏—Ü | ‚Äî | Select 1‚Äì10 |
| –ü–æ–∫—Ä—ã—Ç–∏—è | –õ–∞–∫, –£–ø–∞–∫–æ–≤–∫–∞ | –õ–∞–∫, –ì–µ–ª—å, –ê–∫—Ä–∏–ª, –ú–∞—Å–ª–æ, –ü–æ—Ç–∞–ª—å, –£–ø–∞–∫–æ–≤–∫–∞ |
| –¶–∏—Ñ—Ä–æ–≤–æ–π –º–∞–∫–µ—Ç | ‚Äî | –ß–µ–∫–±–æ–∫—Å (–æ—Ç–∫–ª—é—á–∞–µ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –æ–ø—Ü–∏–∏) |
| –§–æ—Ä–º—É–ª–∞ | –ü–ª–æ—â–∞–¥—å √ó –∫–æ—ç—Ñ—Ñ. + –ø–µ—Ä–∏–º–µ—Ç—Ä √ó –∫–æ—ç—Ñ—Ñ. + –æ–ø—Ü–∏–∏ | –¢–æ –∂–µ + —Å—Ç–æ–∏–º–æ—Å—Ç—å –ª–∏—Ü + –ø–æ–∫—Ä—ã—Ç–∏—è |

---

## 2. –§–∞–π–ª—ã –∏ –ø–æ—Ä—è–¥–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –§–∞–π–ª—ã

| –§–∞–π–ª | –†–∞–∑–º–µ—Ä | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|--------|------------|
| `src/html/js/prices.js` | ~155 —Å—Ç—Ä–æ–∫ | –ï–¥–∏–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ —Ü–µ–Ω (`MUSE_PRICES`) + —Ç–µ–∫—Å—Ç—ã –ø–æ–¥—Å–∫–∞–∑–æ–∫ (`MUSE_TOOLTIPS`) |
| `src/html/js/calc.js` | ~1 744 —Å—Ç—Ä–æ–∫–∏ | –î–≤–∏–∂–æ–∫ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞: UI, —Ñ–æ—Ä–º—É–ª—ã, –∫–∞—Ç–∞–ª–æ–≥ —Ä–∞–º, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä |
| `src/html/js/uploader.js` | ~679 —Å—Ç—Ä–æ–∫ | –ó–∞–≥—Ä—É–∑—á–∏–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: drag-drop, –≤–∞–ª–∏–¥–∞—Ü–∏—è, —Ä–µ—Å–∞–π–∑ |

### –ü–æ—Ä—è–¥–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ HTML

```html
<!-- –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: —Å–Ω–∞—á–∞–ª–∞ prices.js, –ø–æ—Ç–æ–º calc.js, –ø–æ—Ç–æ–º uploader.js -->
<script defer src="js/prices.js"></script>
<script defer src="js/calc.js"></script>
<script defer src="js/uploader.js"></script>

<!-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–ø–æ—Å–ª–µ –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤) -->
<script defer>
  document.addEventListener('DOMContentLoaded', function () {
    CalcInit({
      type: 'canvas',                      // –∏–ª–∏ 'portrait'
      prices: MUSE_PRICES.canvas,           // –∏–ª–∏ MUSE_PRICES.portrait
      tooltips: MUSE_TOOLTIPS.canvas        // –∏–ª–∏ MUSE_TOOLTIPS.portrait
    });
  });
</script>
```

> **–í–∞–∂–Ω–æ:** `prices.js` –¥–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –¥–æ `calc.js`, –∏–Ω–∞—á–µ `MUSE_PRICES` –±—É–¥–µ—Ç undefined –∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω—É–ª–µ–≤–æ–π fallback (`MINIMAL_FALLBACK`).

### –≠—Ç–∞–ª–æ–Ω–Ω—ã–π HTML

**Source of truth –¥–ª—è —Ä–∞–∑–º–µ—Ç–∫–∏:** `src/html/calc.html` ‚Äî –∞–≤—Ç–æ–Ω–æ–º–Ω–∞—è –¥–µ–º–æ-—Å—Ç—Ä–∞–Ω–∏—Ü–∞.

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ç–∫–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –≤–Ω–æ—Å–∏—Ç—å **—Å–Ω–∞—á–∞–ª–∞ –≤ `calc.html`**, –∑–∞—Ç–µ–º —Ç–∏—Ä–∞–∂–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

---

## 3. API `CalcInit(cfg)`

–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `CalcInit(cfg)`.

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª–µ–Ω | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|------------|--------------|----------|
| `type` | `string` | –ù–µ—Ç | `'canvas'` | –¢–∏–ø –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞: `'canvas'` (–ø–µ—á–∞—Ç—å –Ω–∞ —Ö–æ–ª—Å—Ç–µ) –∏–ª–∏ `'portrait'` (–ø–æ—Ä—Ç—Ä–µ—Ç) |
| `prices` | `object` | **–î–∞** | `MINIMAL_FALLBACK` (–≤—Å—ë –ø–æ –Ω—É–ª—è–º) | –û–±—ä–µ–∫—Ç —Ü–µ–Ω –∏–∑ `MUSE_PRICES.canvas` –∏–ª–∏ `MUSE_PRICES.portrait` |
| `tooltips` | `object` | –ù–µ—Ç | `null` | –¢–µ–∫—Å—Ç—ã –ø–æ–¥—Å–∫–∞–∑–æ–∫ –∏–∑ `MUSE_TOOLTIPS.canvas` –∏–ª–∏ `MUSE_TOOLTIPS.portrait` |
| `frames` | `array` | –ù–µ—Ç | `DEFAULT_FRAMES` (27 —Ä–∞–º–æ–∫) | –ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ —Ä–∞–º–æ–∫ –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞ –±–∞–≥–µ—Ç–æ–≤ |
| `sizePresets` | `object` | –ù–µ—Ç | `DEFAULT_SIZE_PRESETS` | –ü—Ä–µ—Å–µ—Ç—ã —Ä–∞–∑–º–µ—Ä–æ–≤: `{ PORTRAIT: [...], LANDSCAPE: [...], SQUARE: [...] }` |
| `interiors` | `array` | –ù–µ—Ç | `DEFAULT_INTERIORS` | –§–æ–Ω—ã –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ (—Å–µ–π—á–∞—Å 1 —Ñ–æ–Ω) |

### –ü—Ä–∏–º–µ—Ä—ã –≤—ã–∑–æ–≤–∞

**–§–æ—Ç–æ –Ω–∞ —Ö–æ–ª—Å—Ç–µ:**
```javascript
CalcInit({
  type: 'canvas',
  prices: MUSE_PRICES.canvas,
  tooltips: MUSE_TOOLTIPS.canvas
});
```

**–ü–æ—Ä—Ç—Ä–µ—Ç –º–∞—Å–ª–æ–º:**
```javascript
CalcInit({
  type: 'portrait',
  prices: MUSE_PRICES.portrait,
  tooltips: MUSE_TOOLTIPS.portrait
});
```

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ id —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ HTML (DOM-–∫–æ–Ω—Ç—Ä–∞–∫—Ç)

–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –Ω–∞—Ö–æ–¥–∏—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ `id`. –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî —Å–µ–∫—Ü–∏—è –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–∫–∏.

| id | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –û–±—è–∑–∞—Ç–µ–ª–µ–Ω |
|----|------------|------------|
| `calc` | Root-—Å–µ–∫—Ü–∏—è | –î–∞ |
| `calc-main-layout` | –ì—Ä–∏–¥ layout (–ø—Ä–µ–≤—å—é + –ø–∞–Ω–µ–ª—å) | –î–∞ |
| `uploader-zone` | –ó–æ–Ω–∞ drag-drop –∑–∞–≥—Ä—É–∑–∫–∏ | –î–∞ |
| `calc-preview-column` | –ö–æ–ª–æ–Ω–∫–∞ –ø—Ä–µ–≤—å—é (–∏–Ω—Ç–µ—Ä—å–µ—Ä + —Ö–æ–ª—Å—Ç) | –î–∞ |
| `size-section` | –°–µ–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ —Ä–∞–∑–º–µ—Ä–∞ | –î–∞ |
| `inp-w`, `inp-h` | –ü–æ–ª—è –≤–≤–æ–¥–∞ —à–∏—Ä–∏–Ω—ã / –≤—ã—Å–æ—Ç—ã | –î–∞ |
| `lbl-w`, `lbl-h` | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –Ω–∞ –ø—Ä–µ–≤—å—é | –î–∞ |
| `size-presets-grid` | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–µ—Å–µ—Ç–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫ | –î–∞ |
| `size-inputs-row` | –°—Ç—Ä–æ–∫–∞ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ | –î–∞ |
| `processing-select` | Select –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ—Ç–æ (—Ç–æ–ª—å–∫–æ canvas) | –î–ª—è canvas |
| `toggle-varnish` | –ß–µ–∫–±–æ–∫—Å –ø–æ–∫—Ä—ã—Ç–∏—è –ª–∞–∫–æ–º | –î–∞ |
| `toggle-gift` | –ß–µ–∫–±–æ–∫—Å –ø–æ–¥–∞—Ä–æ—á–Ω–æ–π —É–ø–∞–∫–æ–≤–∫–∏ | –î–∞ |
| `varnish-gift-section` | –°–µ–∫—Ü–∏—è –ª–∞–∫–∞ + —É–ø–∞–∫–æ–≤–∫–∏ | –î–∞ |
| `frame-section` | –°–µ–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ –±–∞–≥–µ—Ç–∞ | –î–∞ |
| `frame-modal` | `<dialog>` –º–æ–¥–∞–ª–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ –±–∞–≥–µ—Ç–æ–≤ | –î–∞ |
| `frames-grid-studio` | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–º–æ–∫ STUDIO | –î–∞ |
| `frames-grid-classic` | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–º–æ–∫ CLASSIC | –î–∞ |
| `total-price` | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤–æ–π —Ü–µ–Ω—ã | –î–∞ |
| `discount-text` | –¢–µ–∫—Å—Ç —Å–∫–∏–¥–∫–∏ | –î–∞ |
| `order-form-container` | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ñ–æ—Ä–º—ã –∑–∞–∫–∞–∑–∞ | –î–∞ |
| `client-name` | –ü–æ–ª–µ –∏–º–µ–Ω–∏ | –î–∞ |
| `client-phone` | –ü–æ–ª–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ | –î–∞ |
| `client-email` | –ü–æ–ª–µ email | –ù–µ—Ç |
| `client-link` | –ü–æ–ª–µ —Å—Å—ã–ª–∫–∏ (–Ω–∞ —Ñ–æ—Ç–æ/–¢–ó) | –ù–µ—Ç |
| `client-comment` | –ü–æ–ª–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è | –ù–µ—Ç |
| `btn-submit-order` | –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞ | –î–∞ |
| `mobile-sticky-bar` | –ú–æ–±–∏–ª—å–Ω—ã–π sticky-–±–∞—Ä | –î–∞ |
| `btn-sticky-order` | –ö–Ω–æ–ø–∫–∞ –≤ sticky-–±–∞—Ä–µ | –î–∞ |
| `lightbox` | –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä | –î–∞ |

### –ê—Ç—Ä–∏–±—É—Ç `data-calc-root`

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –∞—Ç—Ä–∏–±—É—Ç –Ω–∞ `<section id="calc">` –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤:

```html
<section id="calc" data-calc-root class="content-auto py-16 lg:py-20">
```

---

## 4. –¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ (`prices.js`)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥–∞

```
MUSE_PRICES
‚îú‚îÄ‚îÄ canvas    = shared + processingOptions
‚îî‚îÄ‚îÄ portrait  = shared + –ª–∏—Ü–∞ + –ø–æ–∫—Ä—ã—Ç–∏—è (–≥–µ–ª—å, –∞–∫—Ä–∏–ª, –º–∞—Å–ª–æ, –ø–æ—Ç–∞–ª—å)
```

**`shared`** ‚Äî –æ–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏ –≤ canvas, –∏ –≤ portrait:
- –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –ø–µ—á–∞—Ç–∏ (–ø–ª–æ—â–∞–¥—å, –ø–µ—Ä–∏–º–µ—Ç—Ä, –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞)
- –¶–µ–Ω—ã –ø–æ–¥—Ä–∞–º–Ω–∏–∫–æ–≤ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π, —Ç–æ–ª—Å—Ç—ã–π, —Ä—É–ª–æ–Ω)
- –õ–∞–∫ (–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç)
- –ü–æ–¥–∞—Ä–æ—á–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞ (—Å—Ç—É–ø–µ–Ω—á–∞—Ç–∞—è –ø–æ —Ä–∞–∑–º–µ—Ä–∞–º)
- –ë–∞–≥–µ—Ç (—Ü–µ–Ω–∞ –∑–∞ –ø–æ–≥–æ–Ω–Ω—ã–π –º–µ—Ç—Ä, –º–Ω–æ–∂–∏—Ç–µ–ª—å –¥–ª—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö)

**`MUSE_PRICES.canvas`** –¥–æ–±–∞–≤–ª—è–µ—Ç:
- `processingOptions` ‚Äî –º–∞—Å—Å–∏–≤ `[{ value: 0, label: '–ë–∞–∑–æ–≤–∞—è' }, ...]`

**`MUSE_PRICES.portrait`** –¥–æ–±–∞–≤–ª—è–µ—Ç:
- `faceFirst`, `faceExtra` ‚Äî —Ü–µ–Ω—ã –∑–∞ –ª–∏—Ü–∞
- `digitalFaceFirst`, `digitalFaceExtra` ‚Äî —Ü–µ–Ω—ã –∑–∞ –ª–∏—Ü–∞ –≤ —Ü–∏—Ñ—Ä–æ–≤–æ–º –º–∞–∫–µ—Ç–µ
- `gelCoeff`, `acrylicCoeff`, `oilCoeff`, `oilFaceExtra`, `potalCoeff` ‚Äî –ø–æ–∫—Ä—ã—Ç–∏—è

### –§–æ—Ä–º—É–ª—ã —Ä–∞—Å—á—ë—Ç–∞

–í—Å–µ —Ñ–æ—Ä–º—É–ª—ã ‚Äî –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `calculate()` —Ñ–∞–π–ª–∞ `calc.js` (—Å—Ç—Ä–æ–∫–∞ ~1436).

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
- `S = —à–∏—Ä–∏–Ω–∞ √ó –≤—ã—Å–æ—Ç–∞` (—Å–º¬≤)
- `P = (—à–∏—Ä–∏–Ω–∞ + –≤—ã—Å–æ—Ç–∞) √ó 2` (—Å–º)

| –ü–æ–∑–∏—Ü–∏—è | –§–æ—Ä–º—É–ª–∞ | –ü—Ä–∏–º–µ—Ä 30√ó40 —Å–º |
|---------|---------|-----------------|
| **–ü–µ—á–∞—Ç—å + –ø–æ–¥—Ä–∞–º–Ω–∏–∫** | `0.29¬∑S + 0.04¬∑P¬∑stretcherPrice + 0.76¬∑P + 1998.48` | ~2 632 —Ä. (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π) |
| –ü–æ–¥—Ä–∞–º–Ω–∏–∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π | `stretcherPrice = 32` | ‚Äî |
| –ü–æ–¥—Ä–∞–º–Ω–∏–∫ —Ç–æ–ª—Å—Ç—ã–π | `stretcherPrice = 68` | ~2 834 —Ä. |
| –†—É–ª–æ–Ω (–±–µ–∑ –ø–æ–¥—Ä–∞–º–Ω–∏–∫–∞) | `stretcherPrice = 32` | ~2 632 —Ä. |
| **–õ–∞–∫** | `S √ó 0.1` | 120 —Ä. |
| **–ì–µ–ª—å** (—Ç–æ–ª—å–∫–æ portrait) | `S √ó 0.375` | 450 —Ä. |
| **–ê–∫—Ä–∏–ª** (—Ç–æ–ª—å–∫–æ portrait) | `S √ó 1.05` | 1 260 —Ä. |
| **–ú–∞—Å–ª–æ** (—Ç–æ–ª—å–∫–æ portrait) | `S √ó 2 + (–ª–∏—Ü–∞ ‚àí 1) √ó 2 400` | 2 400 —Ä. (1 –ª–∏—Ü–æ) |
| **–ü–æ—Ç–∞–ª—å** (—Ç–æ–ª—å–∫–æ portrait) | `S √ó 0.3` | 360 —Ä. |
| **–õ–∏—Ü–æ** (–ø–µ—Ä–≤–æ–µ) | `1 920 —Ä.` | 1 920 —Ä. |
| **–õ–∏—Ü–æ** (–∫–∞–∂–¥–æ–µ —Å–ª–µ–¥—É—é—â–µ–µ) | `+960 —Ä.` | ‚Äî |
| **–õ–∏—Ü–æ** (—Ü–∏—Ñ—Ä. –º–∞–∫–µ—Ç, –ø–µ—Ä–≤–æ–µ) | `3 600 —Ä.` | 3 600 —Ä. |
| **–õ–∏—Ü–æ** (—Ü–∏—Ñ—Ä. –º–∞–∫–µ—Ç, —Å–ª–µ–¥.) | `+1 200 —Ä.` | ‚Äî |
| **–û–±—Ä–∞–±–æ—Ç–∫–∞** (—Ç–æ–ª—å–∫–æ canvas) | –ë–∞–∑–æ–≤–∞—è: 0 / –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è: 499 / –ü—Ä–µ–º–∏–∞–ª—å–Ω–∞—è: 999 | ‚Äî |
| **–£–ø–∞–∫–æ–≤–∫–∞** ‚â§50√ó70 | `650 —Ä.` | 650 —Ä. |
| **–£–ø–∞–∫–æ–≤–∫–∞** ‚â§60√ó90 | `750 —Ä.` | ‚Äî |
| **–£–ø–∞–∫–æ–≤–∫–∞** ‚â§90√ó120 | `1 200 —Ä.` | ‚Äî |
| **–£–ø–∞–∫–æ–≤–∫–∞** >90√ó120 | –ø–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—é | ‚Äî |
| **–ë–∞–≥–µ—Ç** (STUDIO) | `(P / 100) √ó 1 200` | ‚ö†Ô∏è –¥–µ–º–æ ‚Äî –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —É –∫–∞–∂–¥–æ–π —Ä–∞–º—ã —Å–≤–æ—è —Ü–µ–Ω–∞ |
| **–ë–∞–≥–µ—Ç** (CLASSIC) | `(P / 100) √ó 1 200 √ó 1.5` | ‚ö†Ô∏è –¥–µ–º–æ ‚Äî —Å–º. [—Ä–∞–∑–¥–µ–ª 6](#6-–∫–∞—Ç–∞–ª–æ–≥-–±–∞–≥–µ—Ç–Ω—ã—Ö-—Ä–∞–º) |

**–ò—Ç–æ–≥–æ:**
```
total = ceil(–ø–µ—á–∞—Ç—å + –ª–∏—Ü–∞ + –ª–∞–∫ + –≥–µ–ª—å + –∞–∫—Ä–∏–ª + –º–∞—Å–ª–æ + –ø–æ—Ç–∞–ª—å + —É–ø–∞–∫–æ–≤–∫–∞ + –±–∞–≥–µ—Ç + –æ–±—Ä–∞–±–æ—Ç–∫–∞)
```

**–¶–∏—Ñ—Ä–æ–≤–æ–π –º–∞–∫–µ—Ç** (—Ç–æ–ª—å–∫–æ portrait): –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –æ—Ç–º–µ–Ω—è—é—Ç—Å—è –≤—Å–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –æ–ø—Ü–∏–∏ (–ø–æ–¥—Ä–∞–º–Ω–∏–∫, –ø–æ–∫—Ä—ã—Ç–∏—è, –±–∞–≥–µ—Ç) ‚Äî –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å—Ç–æ–∏–º–æ—Å—Ç—å –ª–∏—Ü –ø–æ —Ü–∏—Ñ—Ä–æ–≤–æ–º—É —Ç–∞—Ä–∏—Ñ—É.

### –ú–∞—Ç—Ä–∏—Ü–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ø–æ–∫—Ä—ã—Ç–∏–π (portrait)

| | –õ–∞–∫ | –ì–µ–ª—å | –ê–∫—Ä–∏–ª | –ú–∞—Å–ª–æ |
|---|---|---|---|---|
| **–õ–∞–∫** | ‚Äî | ‚úó | ‚úì | ‚úó |
| **–ì–µ–ª—å** | ‚úó | ‚Äî | ‚úó | ‚úó |
| **–ê–∫—Ä–∏–ª** | ‚úì | ‚úó | ‚Äî | ‚úó |
| **–ú–∞—Å–ª–æ** | ‚úó | ‚úó | ‚úó | ‚Äî |

–ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –æ–¥–Ω–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–∞—é—Ç—Å—è –≤ JS.

---

## 5. –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Ü–µ–Ω—ã

### –î–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ (–Ω–µ—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å)

1. –°–æ—Å—Ç–∞–≤—å—Ç–µ —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π: —á—Ç–æ –∏–º–µ–Ω–Ω–æ –º–µ–Ω—è–µ—Ç—Å—è (–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø–µ—á–∞—Ç–∏? —Ü–µ–Ω–∞ –ª–∏—Ü–∞? —Å—Ç–æ–∏–º–æ—Å—Ç—å —É–ø–∞–∫–æ–≤–∫–∏?)
2. –ü–µ—Ä–µ–¥–∞–π—Ç–µ –∑–∞–¥–∞—á—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É
3. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –≤–Ω–æ—Å–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Üí –¥–µ–ø–ª–æ–π (5‚Äì15 –º–∏–Ω—É—Ç)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –Ω–∞ 2‚Äì3 —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö: –æ—Ç–∫—Ä–æ–π—Ç–µ, –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä 30√ó40, —Å—Ä–∞–≤–Ω–∏—Ç–µ –∏—Ç–æ–≥–æ–≤—É—é —Ü–µ–Ω—É —Å –æ–∂–∏–¥–∞–µ–º–æ–π
5. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

**–§–∞–π–ª:** `src/html/js/prices.js`

**–®–∞–≥ 1.** –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ –æ–±—ä–µ–∫—Ç–µ `shared` (–æ–±—â–∏–µ) –∏–ª–∏ –≤ `canvas`/`portrait` (—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ).

**–®–∞–≥ 2.** –ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

**–®–∞–≥ 3.** –ü–æ–∏—Å–∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π —Ü–µ–Ω –≤ HTML:
```bash
grep -r "–æ—Ç [0-9]" src/html/
```
–¶–µ–Ω—ã —É–ø–æ–º–∏–Ω–∞—é—Ç—Å—è –≤ SEO-—Ç–µ–∫—Å—Ç–∞—Ö –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö (`¬´–æ—Ç N —Ä.¬ª`), –≤ JSON-LD, –≤ meta description. –û–±–Ω–æ–≤–∏—Ç–µ –∏—Ö –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

**–®–∞–≥ 4.** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- –û—Ç–∫—Ä–æ–π—Ç–µ `calc.html` (–¥–µ–º–æ-—ç—Ç–∞–ª–æ–Ω)
- –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä 30√ó40
- –°—Ä–∞–≤–Ω–∏—Ç–µ –∏—Ç–æ–≥ —Å –æ–∂–∏–¥–∞–µ–º—ã–º
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—Ä–µ—Ç–Ω—ã–π —Ä–µ–∂–∏–º (–ø–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)

**–®–∞–≥ 5.** –î–µ–ø–ª–æ–π: `git commit && git push` ‚Üí Vercel –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π.

### –ü—Ä–∏–º–µ—Ä—ã —á–∞—Å—Ç—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–ò–∑–º–µ–Ω–∏—Ç—å —Ü–µ–Ω—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–æ–¥—Ä–∞–º–Ω–∏–∫–∞:**
```javascript
// –í prices.js ‚Üí shared
stretcherStandard: 32,  // ‚Üê –∏–∑–º–µ–Ω–∏—Ç—å —ç—Ç–æ —á–∏—Å–ª–æ
```

**–ò–∑–º–µ–Ω–∏—Ç—å —Ü–µ–Ω—É –ø–µ—Ä–≤–æ–≥–æ –ª–∏—Ü–∞:**
```javascript
// –í prices.js ‚Üí portrait extras
faceFirst: 1920,  // ‚Üê –∏–∑–º–µ–Ω–∏—Ç—å —ç—Ç–æ —á–∏—Å–ª–æ
```

**–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ—Ç–æ:**
```javascript
// –í prices.js ‚Üí canvas extras
processingOptions: [
  { value: 0,    label: '–ë–∞–∑–æ–≤–∞—è' },
  { value: 499,  label: '–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è' },
  { value: 999,  label: '–ü—Ä–µ–º–∏–∞–ª—å–Ω–∞—è' },
  { value: 1499, label: 'VIP' }           // ‚Üê –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É
]
```

---

## 6. –ö–∞—Ç–∞–ª–æ–≥ –±–∞–≥–µ—Ç–Ω—ã—Ö —Ä–∞–º

### ‚ö†Ô∏è –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å ‚Äî –î–ï–ú–û-–ó–ê–ì–õ–£–®–ö–ê

–¢–µ–∫—É—â–∏–µ 27 —Ä–∞–º –≤ `DEFAULT_FRAMES` ‚Äî —ç—Ç–æ **–¥–µ–º–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**, –ù–ï —Ä–µ–∞–ª—å–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥. **–ù–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Ä–∞–º—ã –≤ —Ç–µ–∫—É—â–µ–º –≤–∏–¥–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –Ω–µ–ª—å–∑—è** ‚Äî –ª—É—á—à–µ —Å–∫—Ä—ã—Ç—å —Å–µ–∫—Ü–∏—é –±–∞–≥–µ—Ç–∞, —á–µ–º –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–∞–º—ã —Å –Ω–µ–≤–µ—Ä–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏.

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º (muse.ooo)

| | **–û—Ä–∏–≥–∏–Ω–∞–ª (muse.ooo)** | **–ù–∞—à–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–¥–µ–º–æ)** |
|---|---|---|
| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–º | ~40 | 27 |
| –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è | –†–µ–∞–ª—å–Ω—ã–µ —Ñ–æ—Ç–æ —Ä–∞–º (`/upload/bagets/*.jpeg`) | CSS-–±–æ—Ä–¥–µ—Ä —Å —Ü–≤–µ—Ç–æ–º |
| –¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ | **–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –∑–∞ –∫–∞–∂–¥—É—é —Ä–∞–º—É** (10+ —É—Ä–æ–≤–Ω–µ–π: –æ—Ç 1 575 –¥–æ 4 612 —Ä. –ø—Ä–∏ —Ä–∞–∑–º–µ—Ä–µ 20√ó30) | 2 —É—Ä–æ–≤–Ω—è: STUDIO 1 200 —Ä/–º, CLASSIC 1 800 —Ä/–º |
| –ù–∞–ª–∏—á–∏–µ | –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞ (—Å–∫—Ä—ã—Ç—å/–ø–æ–∫–∞–∑–∞—Ç—å –∏–∑ –∞–¥–º–∏–Ω–∫–∏) | –ù–µ–ª—å–∑—è —Å–∫—Ä—ã—Ç—å –±–µ–∑ –ø—Ä–∞–≤–∫–∏ JS –∏ –¥–µ–ø–ª–æ—è |
| –ü—Ä–µ–≤—å—é –Ω–∞ —Ö–æ–ª—Å—Ç–µ | –¢–µ–∫—Å—Ç—É—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä: —É–≥–ª—ã + –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ/–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã —Ä–∞–º—ã (—Ä–µ–∞–ª—å–Ω—ã–µ —Ñ–æ—Ç–æ —Ç–µ–∫—Å—Ç—É—Ä—ã) | CSS border –æ–¥–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ |
| –ö–∞—Ç–∞–ª–æ–≥ –≤ –º–æ–¥–∞–ª–∫–µ | –§–æ—Ç–æ —Ä–∞–º—ã + –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ | –¶–≤–µ—Ç–Ω–æ–π –∫–≤–∞–¥—Ä–∞—Ç + —Ü–µ–Ω–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ |

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

–ü—Ä–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Bitrix –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ —Ä–∞–º —Å —Å–µ—Ä–≤–µ—Ä–∞. –ö–∞–∂–¥–∞—è —Ä–∞–º–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
- –†–µ–∞–ª—å–Ω–æ–µ —Ñ–æ—Ç–æ —Ä–∞–º—ã (`imageUrl`)
- –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é —Ü–µ–Ω—É –∑–∞ –ø–æ–≥–æ–Ω–Ω—ã–π –º–µ—Ç—Ä (`pricePerM`)
- –§–ª–∞–≥ –Ω–∞–ª–∏—á–∏—è (`available`)

–ü–æ–¥—Ä–æ–±–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç API ‚Üí [—Ä–∞–∑–¥–µ–ª 10.3](#103-–∫–∞—Ç–∞–ª–æ–≥-—Ä–∞–º–æ–∫).

### –¢–µ–∫—É—â–∞—è –¥–µ–º–æ-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

27 —Ä–∞–º–æ–∫ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –≤ `DEFAULT_FRAMES` –≤ `calc.js` (—Å—Ç—Ä–æ–∫–∏ 21‚Äì48). –î–µ–ª—è—Ç—Å—è –Ω–∞ 2 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –¶–µ–Ω–æ–≤–æ–π –º–Ω–æ–∂–∏—Ç–µ–ª—å | –ü—Ä–∏–º–µ—Ä—ã |
|-----------|------------|-------------------|---------|
| **STUDIO** | 15 | √ó1 (1 200 —Ä/–º) | –ß–µ—Ä–Ω—ã–π –º–∞—Ç, –ë–µ–ª—ã–π –º–∞—Ç, –ê–ª—é–º. —Å–µ—Ä–µ–±—Ä–æ, –í–µ–Ω–≥–µ |
| **CLASSIC** | 12 | √ó1.5 (1 800 —Ä/–º) | –ó–æ–ª–æ—Ç–æ —É–∑–æ—Ä, –ú–∞—Ö–∞–≥–æ–Ω, –ë—Ä–æ–Ω–∑–∞ –∞–Ω—Ç–∏–∫, –ü—Ä–æ–≤–∞–Ω—Å |

### –î–µ–º–æ-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø–∏—Å–∏ —Ä–∞–º–∫–∏

```javascript
{
  id: 'ST_BLACK_M',          // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
  name: '–ß–µ—Ä–Ω—ã–π –º–∞—Ç',        // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è
  cat: 'STUDIO',             // –ö–∞—Ç–µ–≥–æ—Ä–∏—è: 'STUDIO' –∏–ª–∏ 'CLASSIC'
  color: '#1a1a1a',          // –¶–≤–µ—Ç –¥–ª—è CSS-–ø—Ä–µ–≤—å—é (–¥–µ–º–æ)
  width: 12,                 // –®–∏—Ä–∏–Ω–∞ —Ä–∞–º–∫–∏ –≤ px (–¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä–∞)
  style: 'flat',             // –°—Ç–∏–ª—å: flat | metallic | wood | ornate_gold –∏ –¥—Ä.
  border: '#e2e8f0'          // (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) —Ü–≤–µ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –∫–æ–Ω—Ç—É—Ä–∞
}
```

### –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ø–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–æ–º)

```javascript
{
  id: 1,                     // ID –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Bitrix
  name: '981-01',            // –ù–∞–∑–≤–∞–Ω–∏–µ/–∞—Ä—Ç–∏–∫—É–ª —Ä–∞–º—ã
  cat: 'STUDIO',             // –ö–∞—Ç–µ–≥–æ—Ä–∏—è (–∏–ª–∏ —É—Å—Ç–∞—Ä–µ–≤–∞–µ—Ç ‚Äî —É –∫–∞–∂–¥–æ–π —Ä–∞–º—ã —Å–≤–æ—è —Ü–µ–Ω–∞)
  pricePerM: 3294,           // –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –∑–∞ –ø–æ–≥–æ–Ω–Ω—ã–π –º–µ—Ç—Ä (—Ä—É–±.)
  imageUrl: '/upload/bagets/516f.jpeg',  // –§–æ—Ç–æ —Ä–∞–º—ã
  available: true,           // –ï—Å—Ç—å –Ω–∞ —Å–∫–ª–∞–¥–µ
  // CSS-–ø–æ–ª—è (color, width, style) ‚Üí –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π fallback
}
```

### –î–µ–º–æ-—Ñ–æ—Ä–º—É–ª–∞ —Ü–µ–Ω—ã —Ä–∞–º–∫–∏ (—Ç–µ–∫—É—â–∞—è)

```
–¶–µ–Ω–∞ = (–ø–µ—Ä–∏–º–µ—Ç—Ä_—Ö–æ–ª—Å—Ç–∞_–≤_–º–µ—Ç—Ä–∞—Ö) √ó 1200 —Ä.
–î–ª—è CLASSIC: √ó 1.5
```

### –¶–µ–ª–µ–≤–∞—è —Ñ–æ—Ä–º—É–ª–∞ (–ø–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)

```
–¶–µ–Ω–∞ = (–ø–µ—Ä–∏–º–µ—Ç—Ä_—Ö–æ–ª—Å—Ç–∞_–≤_–º–µ—Ç—Ä–∞—Ö) √ó frame.pricePerM
```

–ö–∞–∂–¥–∞—è —Ä–∞–º–∞ –∏–º–µ–µ—Ç —Å–≤–æ—é —Ü–µ–Ω—É –∑–∞ –ø–æ–≥–æ–Ω–Ω—ã–π –º–µ—Ç—Ä, –∫–∞—Ç–µ–≥–æ—Ä–∏–π–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å –Ω–µ –Ω—É–∂–µ–Ω.

### –ö–∞–∫ —Ä–∞–º–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å–µ–π—á–∞—Å (–¥–µ–º–æ)

- –í–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä —Ä–∏—Å—É–µ—Ç —Ä–∞–º–∫—É **CSS-–±–æ—Ä–¥–µ—Ä–æ–º** –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ –∏ —à–∏—Ä–∏–Ω—ã
- –î–ª—è —Å—Ç–∏–ª–µ–π `ornate_gold` / `ornate_silver` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `border-image` —Å CSS-–≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º
- –ü—Ä–µ–≤—å—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ñ–æ—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ä–∞–º–∫–∏

### –ö–∞–∫ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å (target)

- –í –º–æ–¥–∞–ª–∫–µ: `<img src="imageUrl">` –≤–º–µ—Å—Ç–æ —Ü–≤–µ—Ç–Ω–æ–≥–æ –∫–≤–∞–¥—Ä–∞—Ç–∞
- –ù–∞ –ø—Ä–µ–≤—å—é —Ö–æ–ª—Å—Ç–∞: —Ç–µ–∫—Å—Ç—É—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä –∫–∞–∫ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ (—É–≥–ª—ã + —Å—Ç–æ—Ä–æ–Ω—ã) –∏–ª–∏ `border-image` —Å —Ñ–æ—Ç–æ —Ç–µ–∫—Å—Ç—É—Ä—ã —Ä–∞–º—ã
- –†–∞–º—ã —Å `available: false` ‚Äî –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è
- –†–∞–º—ã —Å `imageUrl: null` ‚Äî CSS-fallback (—Ç–µ–∫—É—â–∏–π —Ä–µ–Ω–¥–µ—Ä)

---

## 7. –ó–∞–≥—Ä—É–∑—á–∏–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (`uploader.js`)

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç

–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π JavaScript-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏, –ø—Ä–µ–≤—å—é –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏. –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ ‚Äî **—Å–µ—Ä–≤–µ—Ä –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** (—Ñ–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ –∫–∞–∫ blob-URL –∏ data-URL).

### API `MuseUploader(config)`

```javascript
var uploader = MuseUploader({
  maxFiles: 20,                          // –ú–∞–∫—Å–∏–º—É–º —Ñ–∞–π–ª–æ–≤
  maxSizeMB: 10,                         // –ú–∞–∫—Å–∏–º—É–º —Ä–∞–∑–º–µ—Ä 1 —Ñ–∞–π–ª–∞ (–ú–ë)
  acceptTypes: ['image/jpeg', ...],      // –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ MIME-—Ç–∏–ø—ã
  acceptExtensions: ['.jpg', '.jpeg', '.png', '.gif', '.webp'],
  dropZoneSelector: '#uploader-zone',    // –ó–æ–Ω–∞ drag-drop
  thumbnailsSelector: '#uploader-thumbnails',
  fileInputSelector: '#file-upload',     // <input type="file">
  alertSelector: '#uploader-alert',      // –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  statusSelector: '#uploader-status',    // –î–ª—è screen reader (aria-live)
  enableDragDrop: true,
  batchSize: 5,                          // –§–∞–π–ª–æ–≤ –∑–∞ –æ–¥–∏–Ω batch
  alertDuration: 4000,                   // –í—Ä–µ–º—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–º—Å)
  onImagesChange: function(images) {},   // Callback: —Å–ø–∏—Å–æ–∫ —Ñ–æ—Ç–æ –∏–∑–º–µ–Ω–∏–ª—Å—è
  onActiveImageChange: function(img) {}  // Callback: –∞–∫—Ç–∏–≤–Ω–æ–µ —Ñ–æ—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
});
```

### –ü—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `uploader.addFiles(fileList)` | –î–æ–±–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ |
| `uploader.removeImage(id)` | –£–¥–∞–ª–∏—Ç—å —Ñ–æ—Ç–æ –ø–æ ID |
| `uploader.getImages()` | –ü–æ–ª—É—á–∏—Ç—å –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö —Ñ–æ—Ç–æ (–∫–æ–ø–∏—è) |
| `uploader.getActiveImage()` | –ü–æ–ª—É—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–µ —Ñ–æ—Ç–æ |
| `uploader.setActiveImage(id)` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–µ —Ñ–æ—Ç–æ |
| `uploader.clear()` | –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ñ–æ—Ç–æ |
| `uploader.destroy()` | –£–Ω–∏—á—Ç–æ–∂–∏—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä, —Å–Ω—è—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ |
| `uploader.openFilePicker()` | –û—Ç–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ |
| `uploader.getCount()` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ |
| `uploader.showAlert(msg, type)` | –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (`'error'` / `'warning'` / `'success'`) |
| `uploader.hideAlert()` | –°–∫—Ä—ã—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ |

### –û–±—ä–µ–∫—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

–ö–∞–∂–¥–æ–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ —Ñ–æ—Ç–æ ‚Äî –æ–±—ä–µ–∫—Ç:

```javascript
{
  id: 'img_1708..._1',       // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
  objectUrl: 'blob:...',      // Blob-URL –æ—Ä–∏–≥–∏–Ω–∞–ª–∞ (–¥–ª—è –ø–∞–º—è—Ç–∏)
  previewUrl: 'data:...',     // –†–µ—Å–∞–π–∑–µ–Ω–Ω–∞—è –∫–æ–ø–∏—è ‚â§1000px (–¥–ª—è –ø—Ä–µ–≤—å—é/lightbox)
  thumbUrl: 'data:...',       // –†–µ—Å–∞–π–∑–µ–Ω–Ω–∞—è –∫–æ–ø–∏—è ‚â§120px (–¥–ª—è –ø–æ–ª–æ—Å—ã –º–∏–Ω–∏–∞—Ç—é—Ä)
  dataUrl: 'data:...',        // –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å calc.js (= previewUrl)
  name: 'photo.jpg',          // –ò–º—è —Ñ–∞–π–ª–∞
  size: 1234567,              // –†–∞–∑–º–µ—Ä –≤ –±–∞–π—Ç–∞—Ö
  type: 'image/jpeg',         // MIME-—Ç–∏–ø
  width: 4000,                // –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ (px)
  height: 3000                // –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ (px)
}
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

- –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ —Ä–µ—Å–∞–π–∑—è—Ç—Å—è —á–µ—Ä–µ–∑ `<canvas>`: –ø—Ä–µ–≤—å—é ‚â§1000 px, –º–∏–Ω–∏–∞—Ç—é—Ä—ã ‚â§120 px (JPEG quality 0.85)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `URL.createObjectURL()` ‚Üí blob-URL –≤–º–µ—Å—Ç–æ `FileReader.readAsDataURL()`
- –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏/–æ—á–∏—Å—Ç–∫–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `URL.revokeObjectURL()` –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏
- –≠–∫–æ–Ω–æ–º–∏—è: ~4 –ú–ë/—Ñ–æ—Ç–æ ‚Üí ~53 –ö–ë –ø—Ä–µ–≤—å—é + ~3 –ö–ë –º–∏–Ω–∏–∞—Ç—é—Ä–∞

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ HTML

| –°–µ–ª–µ–∫—Ç–æ—Ä | –¢–µ–≥ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|-----|------------|
| `#uploader-zone` | `<div>` | –ó–æ–Ω–∞ drag-drop (–≤–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å) |
| `#uploader-thumbnails` | `<div>` | –ü–æ–ª–æ—Å–∞ –º–∏–Ω–∏–∞—Ç—é—Ä –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ |
| `#file-upload` | `<input type="file">` | –°–∫—Ä—ã—Ç—ã–π input –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤ |
| `#uploader-alert` | `<div>` | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö |
| `#btn-upload-empty` | `<button>` | –ö–Ω–æ–ø–∫–∞ ¬´–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ¬ª |
| `#uploader-status` | `<div aria-live="polite">` | –û–±—ä—è–≤–ª–µ–Ω–∏—è –¥–ª—è screen reader |

### –°–≤—è–∑—å —Å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–º

`CalcInit()` —Å–æ–∑–¥–∞—ë—Ç `MuseUploader()` –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è –∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ callbacks:

- `onImagesChange` ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç `STATE.images` –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
- `onActiveImageChange` ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–µ–≤—å—é —Ö–æ–ª—Å—Ç–∞ –≤ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä–µ (—Ñ–æ–Ω —Ñ–æ—Ç–æ –≤–Ω—É—Ç—Ä–∏ —Ä–∞–º–∫–∏)

### –ß–µ–≥–æ –ù–ï –¥–µ–ª–∞–µ—Ç –∑–∞–≥—Ä—É–∑—á–∏–∫

- **–ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä** ‚Äî —Ñ–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- **–ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏** ‚Äî –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤—Å—ë —Ç–µ—Ä—è–µ—Ç—Å—è
- **–ù–µ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ** (DPI, –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ) ‚Äî –æ—Ç–º–µ–Ω–µ–Ω–æ

**‚Üí –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** —Å–µ—Ä–≤–µ—Ä–Ω—ã–π endpoint –¥–ª—è –ø—Ä–∏—ë–º–∞ —Ñ–∞–π–ª–æ–≤ ‚Üí —Å–º. [—Ä–∞–∑–¥–µ–ª 10](#10-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫-—Å–µ—Ä–≤–µ—Ä–Ω–æ–π-—á–∞—Å—Ç–∏).

---

## 8. –§–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–§–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞ ‚Äî —á–∞—Å—Ç—å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞. –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ **—Ä–∞–±–æ—Ç–∞–µ—Ç**, –æ—Ç–ø—Ä–∞–≤–∫–∞ ‚Äî **–∑–∞–≥–ª—É—à–∫–∞**.

### –ü–æ–ª—è —Ñ–æ—Ä–º—ã

| –ü–æ–ª–µ | id | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –í–∞–ª–∏–¥–∞—Ü–∏—è |
|------|----|-------------|-----------|
| –ò–º—è | `client-name` | –î–∞ | –ù–µ –ø—É—Å—Ç–æ–µ |
| –¢–µ–ª–µ—Ñ–æ–Ω | `client-phone` | –î–∞ | –ù–µ –ø—É—Å—Ç–æ–µ, ‚â•16 —Å–∏–º–≤–æ–ª–æ–≤ |
| Email | `client-email` | –ù–µ—Ç | ‚Äî |
| –°—Å—ã–ª–∫–∞ (–Ω–∞ —Ñ–æ—Ç–æ/–¢–ó) | `client-link` | –ù–µ—Ç | ‚Äî |
| –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | `client-comment` | –ù–µ—Ç | ‚Äî |

### –î–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–±–∏—Ä–∞–µ—Ç —Ñ–æ—Ä–º–∞

–ü—Ä–∏ ¬´–æ—Ç–ø—Ä–∞–≤–∫–µ¬ª —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç `orderData`:

```javascript
{
  client: {
    name: '–ò–≤–∞–Ω',
    phone: '+7 (999) 123-45-67',
    email: 'ivan@example.com',
    link: 'https://disk.yandex.ru/...',
    comment: '–ü–æ–¥–∞—Ä–æ–∫ –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è'
  },
  product: {
    width: 40,
    height: 60,
    wrap: 'STANDARD',          // STANDARD | GALLERY | NO_FRAME
    frame: 'ST_BLACK_M',       // ID —Ä–∞–º–∫–∏ –∏–ª–∏ 'NONE'
    varnish: true,
    gift: false,
    interior: 'GIRL',
    processing: 0,             // 0 | 499 | 999 (—Ç–æ–ª—å–∫–æ canvas)
    // –¢–æ–ª—å–∫–æ –¥–ª—è portrait:
    faces: 2,
    gel: false,
    acrylic: false,
    oil: true,
    potal: false,
    digitalMockup: false
  },
  totalPrice: '12 450 —Ä.'
}
```

### –¢–µ–∫—É—â–∞—è –∑–∞–≥–ª—É—à–∫–∞

```javascript
console.log('–ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω:', orderData);
alert('–°–ø–∞—Å–∏–±–æ! –í–∞—à –∑–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω.');
```

**‚Üí –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `fetch()` –∫ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º—É endpoint ‚Üí —Å–º. [—Ä–∞–∑–¥–µ–ª 10](#10-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫-—Å–µ—Ä–≤–µ—Ä–Ω–æ–π-—á–∞—Å—Ç–∏).

---

## 9. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ Vercel-—Å—Ç–µ–Ω–¥–∞

Vercel ‚Äî **–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π —Å—Ç–µ–Ω–¥** –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü. –û–Ω –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç production-—Å–µ—Ä–≤–µ—Ä. –ù–∞ Vercel –Ω–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –ª–æ–≥–∏–∫–∏: –∑–∞–∫–∞–∑—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è, —Ñ–æ—Ç–æ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è, –∫–∞—Ç–∞–ª–æ–≥ —Ä–∞–º–æ–∫ ‚Äî –¥–µ–º–æ. Production-—Å–∞–π—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ Bitrix-—Å–µ—Ä–≤–µ—Ä–µ muse.ooo –ø–æ—Å–ª–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

### –ß–µ—Ç—ã—Ä–µ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

| | **A. File-based** | **B. Hybrid-light** | **C. Hybrid-full** | **D. –ü–æ–ª–Ω—ã–π —Å–µ—Ä–≤–µ—Ä–Ω—ã–π** |
|---|---|---|---|---|
| **–°—Ç–∞—Ç—É—Å** | ‚úÖ –¢–µ–∫—É—â–∏–π | üëâ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ | –ù–∞ –±—É–¥—É—â–µ–µ | ‚ùå –û—Ç–∫–ª–æ–Ω—ë–Ω |
| **–ß—Ç–æ —Å —Å–µ—Ä–≤–µ—Ä–∞** | –ù–∏—á–µ–≥–æ | –†–∞–º—ã (—Ñ–æ—Ç–æ, —Ü–µ–Ω—ã, –Ω–∞–ª–∏—á–∏–µ) | –†–∞–º—ã + –≤—Å–µ —Ü–µ–Ω—ã | –í—Å—ë, –≤–∫–ª—é—á–∞—è —Ä–∞—Å—á—ë—Ç |
| **–ß—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ** | –í—Å—ë | –§–æ—Ä–º—É–ª—ã, —Ü–µ–Ω—ã –ø–µ—á–∞—Ç–∏, UI | –§–æ—Ä–º—É–ª—ã, UI | –¢–æ–ª—å–∫–æ UI |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å** | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è | –°—Ä–µ–¥–Ω—è—è | –í—ã—à–µ —Å—Ä–µ–¥–Ω–µ–π | –í—ã—Å–æ–∫–∞—è |
| **–°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞—Å—á—ë—Ç–∞** | 1‚Äì5 –º—Å, 0 –∑–∞–ø—Ä–æ—Å–æ–≤ | 1‚Äì5 –º—Å (–ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞–º) | 1‚Äì5 –º—Å (–ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ü–µ–Ω) | 100‚Äì500 –º—Å –Ω–∞ –∫–∞–∂–¥—ã–π –∫–ª–∏–∫ |
| **Lighthouse** | 95‚Äì100 | 95‚Äì100 | 90‚Äì95 | 70‚Äì85 |
| **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–º–∞–º–∏** | –ü—Ä–∞–≤–∫–∞ JS + –¥–µ–ø–ª–æ–π | –ò–∑ –∞–¥–º–∏–Ω–∫–∏ Bitrix | –ò–∑ –∞–¥–º–∏–Ω–∫–∏ Bitrix | –ò–∑ –∞–¥–º–∏–Ω–∫–∏ Bitrix |
| **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–∞–º–∏** | –ü—Ä–∞–≤–∫–∞ JS + –¥–µ–ø–ª–æ–π | –ü—Ä–∞–≤–∫–∞ JS + –¥–µ–ø–ª–æ–π | –ò–∑ –∞–¥–º–∏–Ω–∫–∏ Bitrix | –ò–∑ –∞–¥–º–∏–Ω–∫–∏ Bitrix |

### A. File-based (—Ç–µ–∫—É—â–∏–π) ‚Äî –¥–ª—è —ç—Ç–∞–ø–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–í—Å—ë –≤ JS-—Ñ–∞–π–ª–∞—Ö, 0 —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–Ω–æ–º–Ω–æ –Ω–∞ Vercel.

**–ü–ª—é—Å—ã:** –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª—é–±–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ, Lighthouse 95‚Äì100.

**–ú–∏–Ω—É—Å—ã:**
1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω = –ø—Ä–∞–≤–∫–∞ JS + –¥–µ–ø–ª–æ–π (5‚Äì15 –º–∏–Ω + —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫)
2. –†–∞–º—ã ‚Äî –¥–µ–º–æ-–∑–∞–≥–ª—É—à–∫–∞ (—Å–º. [—Ä–∞–∑–¥–µ–ª 6](#6-–∫–∞—Ç–∞–ª–æ–≥-–±–∞–≥–µ—Ç–Ω—ã—Ö-—Ä–∞–º))
3. –ó–∞–∫–∞–∑ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è (–∑–∞–≥–ª—É—à–∫–∞ `console.log`)
4. –§–æ—Ç–æ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä

**–ö–æ–≥–¥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω:** –ø–æ–∫–∞ —Å–∞–π—Ç –Ω–∞ Vercel –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Bitrix –Ω–µ –Ω–∞—á–∞–ª–∞—Å—å.

### B. Hybrid-light (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)

–° —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç **—Ç–æ–ª—å–∫–æ –∫–∞—Ç–∞–ª–æ–≥ —Ä–∞–º** (`/api/frames.json`): —Ñ–æ—Ç–æ, –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã, –Ω–∞–ª–∏—á–∏–µ. –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ.

**–ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç:**
- –û—Å–Ω–æ–≤–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ø—Ä–æ–±–ª–µ–º–∞ ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–ª–∏—á–∏–µ–º —Ä–∞–º. –†–∞–º—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –Ω–µ—Ä–µ–≥—É–ª—è—Ä–Ω–æ, –º–µ–Ω–µ–¥–∂–µ—Ä –¥–æ–ª–∂–µ–Ω —Å–∫—Ä—ã–≤–∞—Ç—å –∏—Ö –±–µ–∑ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.
- –£ –∫–∞–∂–¥–æ–π —Ä–∞–º—ã –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ **—Å–≤–æ—è —Ü–µ–Ω–∞** (–æ—Ç 1 575 –¥–æ 4 612 —Ä.) ‚Äî –Ω–µ–ª—å–∑—è —Å–≤–µ—Å—Ç–∏ –∫ 2 –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º.
- –¶–µ–Ω—ã –ø–µ—á–∞—Ç–∏ –∏ –ø–æ–∫—Ä—ã—Ç–∏–π –º–µ–Ω—è—é—Ç—Å—è —Ä–µ–¥–∫–æ (1 —Ä–∞–∑ –≤ 1‚Äì2 –º–µ—Å—è—Ü–∞) ‚Äî –¥–ª—è –Ω–∏—Ö file-based –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω.

**–¢—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç—ã:** ~2—á —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ + ~4—á –±—ç–∫–µ–Ω–¥.

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—É:**
1. –°–µ—Ä–≤–µ—Ä–Ω—ã–π endpoint `GET /api/frames.json` ‚Üí –∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤ [—Ä–∞–∑–¥–µ–ª–µ 10.3](#103-–∫–∞—Ç–∞–ª–æ–≥-—Ä–∞–º–æ–∫)
2. –í `calc.js`: `fetch('/api/frames.json')` ‚Üí —Ñ–∏–ª—å—Ç—Ä –ø–æ `available` ‚Üí –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞
3. Fallback: –µ—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `DEFAULT_FRAMES`

### C. Hybrid-full (–Ω–∞ –±—É–¥—É—â–µ–µ)

–° —Å–µ—Ä–≤–µ—Ä–∞ ‚Äî **–≤—Å–µ —Ü–µ–Ω—ã + —Ä–∞–º—ã**. –§–æ—Ä–º—É–ª—ã –∏ UI ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ.

**–ö–æ–≥–¥–∞ –æ–ø—Ä–∞–≤–¥–∞–Ω** (2 –∏ –±–æ–ª–µ–µ —É—Å–ª–æ–≤–∏–π):
- –¶–µ–Ω—ã –º–µ–Ω—è—é—Ç—Å—è —á–∞—â–µ 1 —Ä–∞–∑–∞ –≤ –º–µ—Å—è—Ü
- –ü–æ—è–≤–ª—è—é—Ç—Å—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –∞–∫—Ü–∏–∏ (—Å–∫–∏–¥–∫–∏, –ø—Ä–æ–º–æ–∫–æ–¥—ã)
- –ú–µ–Ω–µ–¥–∂–µ—Ä –¥–æ–ª–∂–µ–Ω —Å–∞–º –º–µ–Ω—è—Ç—å —Ü–µ–Ω—ã –±–µ–∑ —É—á–∞—Å—Ç–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –ø—Ä–µ–≤—ã—à–∞–µ—Ç 30

### D. –ü–æ–ª–Ω—ã–π —Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Ä–∞—Å—á—ë—Ç ‚Äî –û–¢–ö–õ–û–ù–Å–ù

–ö–∞–∂–¥—ã–π –∫–ª–∏–∫ ‚Üí –∑–∞–ø—Ä–æ—Å –∫ API ‚Üí —Å–µ—Ä–≤–µ—Ä —Å—á–∏—Ç–∞–µ—Ç —Ü–µ–Ω—É ‚Üí –æ—Ç–≤–µ—Ç.

**–ü–æ—á–µ–º—É –æ—Ç–∫–ª–æ–Ω—ë–Ω:**
- +100‚Äì500 –º—Å –∑–∞–¥–µ—Ä–∂–∫–∏ –Ω–∞ –∫–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –ù–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –ø–æ —Ç–æ—á–Ω–æ—Å—Ç–∏ ‚Äî –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç —Å —Å–µ—Ä–≤–µ—Ä–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –¥–∞—ë—Ç —Ç–æ—Ç –∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

### –ß—Ç–æ –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

- **React/Vue/—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏** ‚Äî –¥–æ–±–∞–≤–ª—è—é—Ç 40‚Äì50 KB JS, –∑–∞–º–µ–¥–ª—è—é—Ç –∑–∞–≥—Ä—É–∑–∫—É. –¢–µ–∫—É—â–∏–π `calc.js` (25 KB) —Ä–∞–±–æ—Ç–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- **–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∫–∞–∫ Bitrix-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç** (—Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä) ‚Äî –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –∫ Bitrix-—Å–µ—Ä–≤–µ—Ä—É, –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–µ–ø–ª–æ–π –Ω–∞ Vercel

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ endpoint'—ã (–ø—Ä–∏ –ª—é–±–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –∫—Ä–æ–º–µ A)

–ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞, –¥–ª—è production –Ω—É–∂–Ω—ã –º–∏–Ω–∏–º—É–º 2 endpoint'–∞:
- `POST /api/order` ‚Äî –ø—Ä–∏—ë–º –∑–∞–∫–∞–∑–∞ ‚Üí [—Ä–∞–∑–¥–µ–ª 10.1](#101-–æ—Ç–ø—Ä–∞–≤–∫–∞-–∑–∞–∫–∞–∑–∞)
- `POST /api/upload` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ ‚Üí [—Ä–∞–∑–¥–µ–ª 10.2](#102-–∑–∞–≥—Ä—É–∑–∫–∞-—Ñ–æ—Ç–æ)

### –û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –§—Ä–æ–Ω—Ç–µ–Ω–¥ | –ë—ç–∫–µ–Ω–¥ |
|-----------|----------|--------|
| **Endpoint —Ä–∞–º–æ–∫** (`GET /api/frames.json`) | ~2—á (fetch + fallback) | ~4—á (CRUD + endpoint) |
| **Endpoint –∑–∞–∫–∞–∑–∞** (`POST /api/order`) | ~2—á (fetch –≤–º–µ—Å—Ç–æ alert) | ~8—á (–≤–∞–ª–∏–¥–∞—Ü–∏—è, –ë–î, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è) |
| **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ** (`POST /api/upload`) | ~3—á (multipart upload) | ~6—á (–ø—Ä–∏—ë–º, —Ö—Ä–∞–Ω–µ–Ω–∏–µ, –æ—á–∏—Å—Ç–∫–∞) |
| **Endpoint —Ü–µ–Ω** (`GET /api/prices.json`) | ~1—á (fetch + merge) | ~4—á (–≤—ã–≥—Ä—É–∑–∫–∞ –∏–∑ Bitrix) |

---

## 10. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç (–¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ production)

–î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å **2 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö endpoint'–∞**:

#### 10.1. –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–∫–∞–∑–∞

```
POST /api/order
Content-Type: application/json

{
  "client": {
    "name": "–ò–≤–∞–Ω",
    "phone": "+7 (999) 123-45-67",
    "email": "ivan@example.com",
    "link": "https://...",
    "comment": "..."
  },
  "product": {
    "width": 40, "height": 60,
    "wrap": "STANDARD",
    "frame": "ST_BLACK_M",
    "varnish": true, "gift": false,
    "processing": 0,
    "faces": 2, "oil": true,
    ...
  },
  "totalPrice": 12450,
  "photos": ["upload-id-1", "upload-id-2"]
}

‚Üí 200 OK { "orderId": "12345", "message": "..." }
‚Üí 422 Validation Error { "errors": [...] }
```

**–í–∞–∂–Ω–æ:** `totalPrice` ‚Äî —Å–ø—Ä–∞–≤–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–æ–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ. –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω **–ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å —Ü–µ–Ω—É** –ø–æ —Å–≤–æ–∏–º —Ñ–æ—Ä–º—É–ª–∞–º/—Ç–∞–±–ª–∏—Ü–∞–º –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ—é —Å—É–º–º—É –¥–ª—è –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —á–µ—Ä–µ–∑ DevTools).

#### 10.2. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ

```
POST /api/upload
Content-Type: multipart/form-data

file: <binary>

‚Üí 200 OK { "id": "upload-uuid", "url": "/uploads/preview/..." }
‚Üí 413 File Too Large
‚Üí 415 Unsupported Media Type
```

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- –ú–∞–∫—Å–∏–º—É–º 20 —Ñ–∞–π–ª–æ–≤ –Ω–∞ –∑–∞–∫–∞–∑
- –ú–∞–∫—Å–∏–º—É–º 10 –ú–ë –Ω–∞ —Ñ–∞–π–ª
- –§–æ—Ä–º–∞—Ç—ã: JPEG, PNG, GIF, WebP

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ endpoint'—ã (Hybrid-light)

#### 10.3. –ö–∞—Ç–∞–ª–æ–≥ —Ä–∞–º–æ–∫

```
GET /api/frames.json

‚Üí 200 OK
[
  {
    "id": 1,
    "name": "981-01",
    "cat": "STUDIO",
    "pricePerM": 3294,
    "imageUrl": "/upload/bagets/516f.jpeg",
    "available": true
  },
  {
    "id": 4,
    "name": "–ë–µ–∑ –±–∞–≥–µ—Ç–∞",
    "cat": "NONE",
    "pricePerM": 0,
    "imageUrl": null,
    "available": true
  },
  ...
]
```

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|-------------|----------|
| `id` | `number` | –î–∞ | ID —Ä–∞–º—ã –∏–∑ –ë–î Bitrix |
| `name` | `string` | –î–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ/–∞—Ä—Ç–∏–∫—É–ª —Ä–∞–º—ã |
| `cat` | `string` | –ù–µ—Ç | –ö–∞—Ç–µ–≥–æ—Ä–∏—è (`STUDIO` / `CLASSIC` / `NONE`). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –≤ UI |
| `pricePerM` | `number` | –î–∞ | –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –∑–∞ –ø–æ–≥–æ–Ω–Ω—ã–π –º–µ—Ç—Ä (—Ä—É–±.). **–ù–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π–Ω–∞—è, –∞ —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–∞–º—ã** |
| `imageUrl` | `string\|null` | –î–∞ | URL —Ñ–æ—Ç–æ —Ä–∞–º—ã. –ï—Å–ª–∏ null ‚Üí CSS-fallback |
| `available` | `boolean` | –î–∞ | –ï—Å—Ç—å –Ω–∞ —Å–∫–ª–∞–¥–µ. `false` ‚Üí —Ä–∞–º–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ —Ü–µ–Ω–∞—Ö —Ä–∞–º:** –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ muse.ooo —Ü–µ–Ω—ã –≤–∞—Ä—å–∏—Ä—É—é—Ç—Å—è –æ—Ç 1 575 –¥–æ 4 612 —Ä. –ø—Ä–∏ —Ä–∞–∑–º–µ—Ä–µ 20√ó30 (–ø–µ—Ä–∏–º–µ—Ç—Ä 1 –º). –≠—Ç–æ –∑–Ω–∞—á–∏—Ç `pricePerM` –æ—Ç ~1 575 –¥–æ ~4 612 —Ä/–º. –£ –∫–∞–∂–¥–æ–π —Ä–∞–º—ã **—Å–≤–æ—è —Ü–µ–Ω–∞**, –∞ –Ω–µ 2 –∫–∞—Ç–µ–≥–æ—Ä–∏–π–Ω—ã—Ö —É—Ä–æ–≤–Ω—è.

**–§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á—ë—Ç–∞ –≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ:**
```
frameCost = (–ø–µ—Ä–∏–º–µ—Ç—Ä_—Ö–æ–ª—Å—Ç–∞_–º) √ó frame.pricePerM
```

**Fallback:** –µ—Å–ª–∏ endpoint –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã–µ `DEFAULT_FRAMES` (–¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ, –≤—Å–µ —Ä–∞–º–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Å —É—Å–ª–æ–≤–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏).

#### 10.4. –ö–æ–Ω—Ñ–∏–≥ —Ü–µ–Ω (–Ω–∞ –±—É–¥—É—â–µ–µ, –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –∫ Hybrid-full)

```
GET /api/prices.json

‚Üí 200 OK
{
  "canvas": { "printSqCoeff": 0.29, ... },
  "portrait": { "faceFirst": 1920, ... }
}
```

–§–æ—Ä–º–∞—Ç –∏–¥–µ–Ω—Ç–∏—á–µ–Ω `MUSE_PRICES` –∏–∑ `prices.js`. –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–µ–ª–∞–µ—Ç `mergePrices(apiPrices, localFallback)`.

---

## –ì–ª–æ—Å—Å–∞—Ä–∏–π

| –¢–µ—Ä–º–∏–Ω | –ó–Ω–∞—á–µ–Ω–∏–µ |
|--------|----------|
| **calc.html** | –≠—Ç–∞–ª–æ–Ω–Ω–∞—è –¥–µ–º–æ-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ (source of truth –¥–ª—è —Ä–∞–∑–º–µ—Ç–∫–∏) |
| **CalcInit** | –ì–ª–æ–±–∞–ª—å–Ω–∞—è JS-—Ñ—É–Ω–∫—Ü–∏—è ‚Äî –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ |
| **MuseUploader** | –ì–ª–æ–±–∞–ª—å–Ω–∞—è JS-—Ñ—É–Ω–∫—Ü–∏—è ‚Äî –∑–∞–≥—Ä—É–∑—á–∏–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π |
| **MUSE_PRICES** | –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å —Ü–µ–Ω–∞–º–∏ (–∏–∑ `prices.js`) |
| **MUSE_TOOLTIPS** | –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å —Ç–µ–∫—Å—Ç–∞–º–∏ –ø–æ–¥—Å–∫–∞–∑–æ–∫ (–∏–∑ `prices.js`) |
| **MINIMAL_FALLBACK** | –ù—É–ª–µ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥ —Ü–µ–Ω –≤ `calc.js` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ `prices.js` –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω |
| **DEFAULT_FRAMES** | –ú–∞—Å—Å–∏–≤ 27 —Ä–∞–º–æ–∫ –≤ `calc.js` ‚Äî –∫–∞—Ç–∞–ª–æ–≥ –±–∞–≥–µ—Ç–æ–≤ |
| **STATE** | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –æ–±—ä–µ–∫—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ (—Ä–∞–∑–º–µ—Ä, –æ–ø—Ü–∏–∏, –≤—ã–±—Ä–∞–Ω–Ω–∞—è —Ä–∞–º–∫–∞ –∏ —Ç.–¥.) |
| **–ü–æ–¥—Ä–∞–º–Ω–∏–∫** | –î–µ—Ä–µ–≤—è–Ω–Ω–∞—è —Ä–∞–º–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –Ω–∞—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è —Ö–æ–ª—Å—Ç: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π (2 —Å–º), —Ç–æ–ª—Å—Ç—ã–π (4 —Å–º), —Ä—É–ª–æ–Ω (–±–µ–∑ –ø–æ–¥—Ä–∞–º–Ω–∏–∫–∞) |
| **–ü–æ—Ç–∞–ª—å** | –ò–º–∏—Ç–∞—Ü–∏—è —Å—É—Å–∞–ª—å–Ω–æ–≥–æ –∑–æ–ª–æ—Ç–∞/—Å–µ—Ä–µ–±—Ä–∞ –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è —É—á–∞—Å—Ç–∫–æ–≤ –∫–∞—Ä—Ç–∏–Ω—ã |
