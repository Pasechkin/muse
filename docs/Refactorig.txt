РЕФАКТОРИНГ СТРАНИЦ СТИЛЕЙ ПОРТРЕТОВ — ИНСТРУКЦИИ ДЛЯ ИИ

Дата проверки эталона: 25.01.2026
Эталон: src/html/portret-na-zakaz/style/portret-maslom.html

ОБЩИЕ ПРАВИЛА
1) Не менять контент (тексты, alt, title, ссылки, порядок секций).
2) Не изменять Header/Footer без отдельного согласования.
3) Любые изменения в src/input.css требуют пересборки: npm run build:once, затем copy CSS.
4) Проверка результата — только через Live Server (src/html/…).
5) Все правки сначала делаем на эталоне, затем масштабируем на 17 остальных страниц.

СТАТУС ЭТАЛОНА (portret-maslom)
- Контейнеры: ✅ выполнено
- Преимущества: ✅ выполнено
- Видео: ✅ выполнено (iframe создается по клику)
- Page Navigator: ✅ выполнено (старый вариант)
- Кнопки: ✅ выполнено (контентная часть), Header/Mobile — не трогать
- viewBox: ⏳ не выполнено (иконка 1 имеет viewBox 0 0 4500 4500)
- Иконки (оптимизация загрузки): ✅ выполнено
- Быстрый деплой: ⏳ статус неясен

---------------------------------
ЭТАП 0. ИКОНКИ (ОПТИМИЗАЦИЯ ЗАГРУЗКИ)
Цель: убрать блокирующие ресурсы и перейти на inline SVG.
Где менять: страницы в src/html/portret-na-zakaz/style/ и при необходимости src/input.css.
Шаги:
1) Проверить, есть ли use-ссылки или img-фолбэки.
2) Перевести иконки на inline SVG (см. Этап 5 “Преимущества”).
Проверка:
- Иконки рендерятся корректно во всех секциях

---------------------------------
ЭТАП 1. КОНТЕЙНЕРЫ
Цель: убрать двойные контейнеры и нормализовать .container.
Где менять: src/input.css и HTML страниц.
Шаги:
1) Проверить .container в src/input.css: должен иметь max-width: 1170px.
2) В HTML убрать двойные обертки вида: mx-auto px-4 max-w-[1170px] + вложенный .container.
Исключения: Header, Footer, CTA, где используется только один из паттернов.
Проверка:
- Нету двойных паддингов, контент центрирован, ширина 1170px.

---------------------------------
ЭТАП 2. КНОПКИ
Цель: сократить длинные классы в контенте до компонентных классов.
Где менять: src/input.css (если компонентов нет) и HTML в контентных секциях.
Шаги:
1) Проверить наличие .btn, .btn-primary, .btn-secondary, .btn-outline в src/input.css.
2) В контентных секциях заменить длинные классы на компоненты.
Ограничения:
- Не менять Header/Footer/Mobile меню.
Проверка:
- Визуально кнопки идентичны, hover/тени сохранены.

---------------------------------
ЭТАП 3. ПРОВЕРКА 0–1
Цель: зафиксировать, что контейнеры и иконки корректны на эталоне.
Шаги:
1) Открыть эталон и проверить ширину контейнера и отсутствие двойных оберток.
2) Проверить, что иконки не используют спрайты/фолбэки.
Проверка:
- Все секции в нормальной ширине, иконки корректны.

---------------------------------
ЭТАП 4. КАК ЗАКАЗАТЬ
Цель: унифицировать блок “Как заказать” через компоненты.
Где менять: HTML секции “Как заказать”.
Шаги:
1) Внедрить .step-container и .process-step.
2) Очистить лишнюю разметку и линию между шагами.
Проверка:
- Визуально совпадает с эталоном, разметка упрощена.

---------------------------------
ЭТАП 5. ПРЕИМУЩЕСТВА
Цель: единый компонентный блок “Преимущества”.
Где менять: секция id="preimushchestva" на каждой странице.
Шаги:
1) Секция: class="advantages-section".
2) Заголовок: class="advantages-title".
3) Сетка: class="advantages-grid".
4) Карточки: class="advantage-card".
5) Иконки: только inline SVG, класс icon-advantage.
Проверка:
- Иконки окрашиваются через CSS, без filter/фолбеков.

---------------------------------
ЭТАП 6. ХАРАКТЕРИСТИКИ
Цель: унифицировать список характеристик.
Шаги:
1) Внедрить .check-list.
2) Заменить SVG-галочки на CSS-символ (по эталону).
Проверка:
- Список единообразный, лишние SVG удалены.

---------------------------------
ЭТАП 7. НАВИГАЦИЯ
Цель: проверить работу навигации по секциям.
Где менять: HTML и src/html/js/nav.js.
Шаги:
1) Убедиться, что навигатор присутствует и работает при скролле.
2) Проверить поведение на разных разрешениях.
Проверка:
- Подсветка секции корректна, навигатор не ломает верстку.

---------------------------------
ЭТАП 8. МАСШТАБИРОВАНИЕ
Цель: перенести изменения на 17 остальных страниц стилей.
Где менять: src/html/portret-na-zakaz/style/ (кроме portret-maslom.html).
Порядок: контейнеры → кнопки → преимущества → видео → навигация → прочее.

---------------------------------
ЭТАП. VIEWBOX (ОПЦИОНАЛЬНО)
Цель: оптимизировать слишком большой viewBox у уникальной иконки №1.
Факт: в эталоне viewBox = 0 0 4500 4500 (иконка 1).
Действие: при необходимости оптимизировать через SVGO.

---------------------------------
ЭТАП. ВИДЕО
Цель: iframe должен создаваться только по клику.
Факт: реализовано в эталоне и в src/html/js/nav.js.
Шаги:
1) Удалить iframe из DOM на старте.
2) Использовать data-video-cover и data-play-btn.
3) По клику создавать iframe и добавлять класс video-playing.
Проверка:
- Нет мигания, iframe отсутствует до клика.

---------------------------------
ЭТАП. PAGE NAVIGATOR
Цель: сохранить/проверить старый навигатор (точки) без замены на arch-nav.
Факт: эталон использует старый навигатор.
Проверка:
- Навигатор присутствует, работает корректно.

---------------------------------
ЭТАП. БЫСТРЫЙ ДЕПЛОЙ
Проблема: статус неясен, периодически ломается.
Действие:
1) Проверить запуск БЫСТРЫЙ_ДЕПЛОЙ.bat.
2) Если bat нестабилен — использовать БЫСТРЫЙ_ДЕПЛОЙ.ps1 и лог deploy-log.txt.
3) Если оба способа падают — выполнить вручную: build:once → copy-css → git add/commit/push.
Проверка:
- Деплой завершен, Vercel обновился.

---------------------------------
СПИСОК СТРАНИЦ ДЛЯ МАСШТАБИРОВАНИЯ
src/html/portret-na-zakaz/style/
1) portret-maslom.html — ✅ эталон
2) portret-karandashom.html — ✅
3) portret-akvarelyu.html — ✅
4) portret-komiks.html — ✅
5) portret-iz-slov.html — ✅
6) portret-flower-art.html — ✅
7) portret-v-obraze.html — ✅
8) pop-art-portret.html — ✅
9) graffiti-portret.html — ✅
10) granzh-portret.html — ✅
11) beauty-art-portret.html — ✅
12) drim-art-portret.html — ✅
13) fantasy-art-portret.html — ✅
14) fotomozaika.html — ✅
15) love-is-portret.html — ✅
16) low-poly-portret.html — ✅
17) sharzh-po-foto.html — ✅
18) wpap-portret.html — ✅
