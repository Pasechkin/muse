# Инструкции для ИИ-агента

## ⚠️ ВАЖНО: Прочитай перед началом работы

### 1. Ознакомься со всей документацией

**ОБЯЗАТЕЛЬНО прочитай эти файлы перед началом работы:**

| Файл | Что содержит |
|------|--------------|
| `docs/LESSONS_LEARNED.md` | Проблемы и решения (чтобы не повторять ошибки) |
| `docs/DESIGN_SYSTEM.md` | Цвета, типографика, отступы |
| `docs/COMPONENTS.md` | Каталог готовых компонентов |
| `docs/PAGES_LIST.md` | Статус всех страниц проекта |

### 2. НЕ изменяй документацию

❌ **ЗАПРЕЩЕНО** изменять файлы документации (`*.md`) без явного согласования с пользователем.

Если считаешь, что нужно что-то добавить в документацию — **сначала спроси**.

### 3. Эталонная страница

**Эталон:** `src/html/portret-na-zakaz-po-foto-na-kholste-sankt-peterburg.html`

Бери из эталона:
- Структуру HTML
- Header и Footer
- Критический CSS
- JavaScript (карусели, навигация, back-to-top)

### 4. Шаблон страницы стиля портрета

**Шаблон:** `src/html/portret-maslom.html`

Используй для создания страниц стилей портретов (~18 страниц: маслом, акварель, карандаш и т.д.)

**Отличия от эталона:**
- Hero с изображением справа (не видео на весь экран)
- Секция "Примеры" — заглушка для галереи из Bitrix
- Секция "Преимущества" — на голубом фоне (bg-primary)
- Секция "Отзывы" — кнопка + модальное окно авторизации
- Секция "Описание" — CSS-слайдер "До/После" (без библиотек)

---

## Правила работы с контентом

### Источник контента

- **Источник:** Контент берём ТОЛЬКО с оригинала `muse.ooo`
- **Тексты:** НЕ менять, НЕ сокращать, НЕ перефразировать
- **Alt/Title:** Сохранять полностью, не укорачивать
- **Meta:** Title и description — 1:1 с оригинала

### Предупреждай об изменениях

Если что-то нужно изменить или убрать — **СНАЧАЛА СПРОСИ**.

Если количество элементов отличается от оригинала — **ПРЕДУПРЕДИ**.

---

## Критический CSS

Критический CSS — минимум стилей для корректного отображения до загрузки Tailwind.

### Всегда включаем:

```css
/* Тема */
:root {
  --primary: /* цвет со страницы */;
  --primary-hover: /* цвет со страницы */;
  --dark: /* цвет со страницы */;
  --body: /* цвет со страницы */;
  --secondary: /* цвет со страницы */;
}

/* База */
body { background-color: var(--secondary); color: var(--body); overflow-x: hidden; }

/* Контейнер */
.container { padding-left: 1rem; padding-right: 1rem; margin: 0 auto; }
@media (min-width: 1170px) { .container { max-width: 1170px; } }

/* Типографика первого экрана */
h1 { font-size: 2.25rem; font-weight: 300; }
@media (min-width: 1024px) { h1 { font-size: 3rem; } }

/* Утилиты первого экрана */
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0; }
```

### Цвета — с перевёрстываемой страницы

⚠️ **Цвета берём со страницы, которую перевёрстываем, НЕ из эталона!**

Перед началом работы зафиксируй цвета и сообщи пользователю.

### НЕ включаем по умолчанию:

- Carousel (`.carousel-scroll`) — добавлять только если есть на странице
- Video-cover — добавлять только если есть видео
- Page Navigator — добавлять только если нужен

---

## Базовые правила

### Шрифты
Системные шрифты (не подключаем веб-шрифты).

### Ширина контейнера
`1170px` на десктопе (breakpoint `2xl`).

### Брейкпоинты
Стандартные Tailwind: `sm: 640px`, `md: 768px`, `lg: 1024px`, `xl: 1280px`, `2xl: 1536px`.

### Хлебные крошки
Разделитель — символ `/` (не стрелка).

### Ссылки в тексте
- Стиль: `text-primary underline hover:no-underline`
- Стрелки: `↑` (вверх), `↓` (вниз), `↗` (внешняя)

### Акция (Promo)
Текст фиксированный: **«Скидка 20% с 3 по 4 января»** (до интеграции с Битрикс).

---

## Компоненты и секции

### Порядок секций
Повторяем порядок с оригинала `muse.ooo`.

### CTA-блок
- Структура: из эталона
- Цвета: со страницы, которую перевёрстываем

### Карусель "Примеры работ"
- Горизонтальная прокрутка (`scroll-snap`)
- Без стрелок, без пагинации, без автопрокрутки
- Контент: строго с оригинала

### Секция "Как заказать"
- Визуальный паттерн: из эталона (кружки с цифрами, пунктир)
- Раскладка: по оригиналу
- Тексты: 1:1 с оригинала

### SVG-иконки
Можно использовать заглушки — пользователь заменит позже.

---

## Изображения

| Атрибут | Правило |
|---------|---------|
| Формат | `.webp` |
| `width` | Обязательно (в пикселях) |
| `height` | Обязательно (в пикселях) |
| `loading` | `lazy` (кроме первого экрана) |
| `decoding` | `async` |
| `alt` | С оригинала, НЕ сокращать |
| `title` | Если есть на оригинале — сохранить |

---

## Видео

| Атрибут | Правило |
|---------|---------|
| `preload` | `none` (всегда) |
| `playsinline` | Да |
| `<source media>` | `(min-width: 1024px)` для десктоп-видео |

❌ **Запрещено:**
- `webkit-playsinline` (невалидный атрибут)
- `loading="lazy"` на `<video>` (невалидный атрибут)

---

## Формы и accessibility

### Формы
- Каждый `<input>` и `<select>` должен иметь `<label>`
- Если placeholder достаточен — использовать `sr-only` для скрытия label

### Ссылки
- Текстовые ссылки должны иметь `underline` (для различимости)

---

## Интерактивные элементы

### Back to Top
Кнопка "Наверх" — появляется при скролле (только десктоп).

### Page Navigator
Боковая навигация по секциям (только десктоп).

### Video Cover
Обложка с иконкой play — по клику заменяется на видео.

---

## Тестирование

### Локально
`start-mobile-server.bat`

### Деплой
`БЫСТРЫЙ_ДЕПЛОЙ.bat`

### Валидация HTML
После завершения — проверить через [W3C Validator](https://validator.w3.org/nu/).

---

## Чек-лист перед завершением

- [ ] Контент совпадает с оригиналом `muse.ooo`
- [ ] Количество элементов совпадает (примеры, FAQ, преимущества)
- [ ] Изображения: webp, width, height, loading, decoding, alt
- [ ] Видео: preload="none", media на source
- [ ] Формы: label для каждого поля
- [ ] Ссылки: underline для текстовых ссылок
- [ ] HTML валидация пройдена
